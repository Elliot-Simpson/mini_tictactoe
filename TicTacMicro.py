Gameboard,plist,draw,place,pcount,Haswon = ['1','2','3','4','5','6','7','8','9',],["X","O"],lambda  : print("\n",Gameboard[0:3],"\n",len(str(Gameboard[0:3]))*"-","\n",Gameboard[3:6],"\n",len(str(Gameboard[0:3]))*"-","\n",Gameboard[6:9],"\n"), lambda where,piece : where in ("1","2","3","4","5","6","7","8","9") and Gameboard[int(where)-1] in ['1','2','3','4','5','6','7','8','9',] and Gameboard.pop(int(where)-1) != None  and Gameboard.insert(int(where)-1,piece) == None, lambda : Gameboard.count("X") + Gameboard.count("O"),lambda : [1,chr((hwon -1) >> 1)] if int(str(bin(hwon := 0 | (check := lambda start,inc:((1 + (ord(Gameboard[0+start]) << 1))) * ( Gameboard[start::inc][:3].count(Gameboard[0+start]) == len(Gameboard[start::inc][:3])) )(0,3) | check(1,3) | check(2,3) | check(0,1) | check(3,1) | check(6,1) | check(0,4) | check(2,2)))[-1]) != 0 else [0,0]
while draw() == None and (won := Haswon())[0] == 0 and pcount() != 9: place(input(f"\n\nPlayer { plist[pcount()%len(plist)] }: "),plist[pcount()%len(plist)])
print(str(draw())*0 + f"\n\nwinner: {(won:=Haswon())[1]}"*won[0] + "\n\nTie" * (won[0] ^ 1))

